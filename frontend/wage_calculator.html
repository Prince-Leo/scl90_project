<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å·¥èµ„è®¡ç®—å™¨</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .input-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #555;
        }
        input {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        input:focus {
            outline: none;
            border-color: #667eea;
        }
        .option-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 16px;
            cursor: pointer;
            transition: transform 0.2s;
            width: 100%;
            margin-bottom: 20px;
        }
        button:hover {
            transform: translateY(-2px);
        }
        .result {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            border-left: 5px solid #28a745;
        }
        .result-section {
            margin-bottom: 15px;
        }
        .result-section h3 {
            color: #333;
            margin-bottom: 8px;
            border-bottom: 2px solid #667eea;
            padding-bottom: 3px;
        }
        .result-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
        .result-item {
            background: white;
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #e9ecef;
        }
        .result-item strong {
            color: #495057;
        }
        .net-salary {
            font-size: 24px;
            color: #28a745;
            text-align: center;
            margin-top: 20px;
            padding: 15px;
            background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
            border-radius: 10px;
            border: 2px solid #28a745;
        }
        .rate-inputs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
        .rate-inputs div {
            display: flex;
            flex-direction: column;
        }
        @media (max-width: 600px) {
            .result-grid, .rate-inputs {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ§® å·¥èµ„è®¡ç®—å™¨</h1>

        <div class="input-group">
            <label for="baseSalary">åŸºç¡€å·¥èµ„ï¼ˆå…ƒï¼‰</label>
            <input type="number" id="baseSalary" placeholder="è¯·è¾“å…¥åŸºç¡€å·¥èµ„" value="10000">
        </div>

        <div class="input-group">
            <label for="bonus">å¥–é‡‘ï¼ˆå…ƒï¼‰</label>
            <input type="number" id="bonus" placeholder="è¯·è¾“å…¥å¥–é‡‘" value="0">
        </div>

        <div class="input-group">
            <label for="overtimeHours">åŠ ç­æ—¶é•¿ï¼ˆå°æ—¶ï¼‰</label>
            <input type="number" id="overtimeHours" placeholder="è¯·è¾“å…¥åŠ ç­å°æ—¶æ•°" value="0">
        </div>

        <div class="input-group">
            <label for="overtimeRate">åŠ ç­å€ç‡</label>
            <input type="number" id="overtimeRate" placeholder="è¯·è¾“å…¥åŠ ç­å€ç‡" value="1.5" step="0.1">
        </div>

        <div class="input-group">
            <label for="insuranceBase">ç¤¾ä¿ç¼´è´¹åŸºæ•°ï¼ˆå…ƒï¼‰</label>
            <input type="number" id="insuranceBase" placeholder="ç¤¾ä¿åŸºæ•°ï¼Œé»˜è®¤ç­‰äºåŸºæœ¬å·¥èµ„">
        </div>

        <div class="input-group">
            <h3 style="margin-bottom: 10px; color: #333;">ğŸ¦ ä¸ªäººäº”é™©ä¸€é‡‘æ¯”ä¾‹è®¾ç½®</h3>
            <div class="rate-inputs">
                <div>
                    <label for="personalPension">å…»è€ä¿é™©ï¼ˆä¸ªäººæ¯”ä¾‹%ï¼‰</label>
                    <input type="number" id="personalPension" value="8" step="0.1">
                </div>
                <div>
                    <label for="personalMedical">åŒ»ç–—ä¿é™©ï¼ˆä¸ªäºº%ï¼‰</label>
                    <input type="number" id="personalMedical" value="2" step="0.1">
                </div>
                <div>
                    <label for="personalUnemployment">å¤±ä¸šä¿é™©ï¼ˆä¸ªäºº%ï¼‰</label>
                    <input type="number" id="personalUnemployment" value="0.4" step="0.1">
                </div>
                <div>
                    <label for="personalInjury">å·¥ä¼¤ä¿é™©ï¼ˆä¸ªäºº%ï¼‰</label>
                    <input type="number" id="personalInjury" value="0" step="0.1">
                </div>
                <div>
                    <label for="personalHousing">ä½æˆ¿å…¬ç§¯é‡‘ï¼ˆä¸ªäºº%ï¼‰</label>
                    <input type="number" id="personalHousing" value="6" step="0.1">
                </div>
            </div>
        </div>

        <div class="input-group">
            <h3 style="margin-bottom: 10px; color: #333;">ğŸ¢ ä¼ä¸šäº”é™©ä¸€é‡‘æ¯”ä¾‹è®¾ç½®</h3>
            <div class="rate-inputs">
                <div>
                    <label for="companyPension">å…»è€ä¿é™©ï¼ˆä¼ä¸šæ¯”ä¾‹%ï¼‰</label>
                    <input type="number" id="companyPension" value="16" step="0.1">
                </div>
                <div>
                    <label for="companyMedical">åŒ»ç–—ä¿é™©ï¼ˆä¼ä¸š%ï¼‰</label>
                    <input type="number" id="companyMedical" value="7" step="0.1">
                </div>
                <div>
                    <label for="companyUnemployment">å¤±ä¸šä¿é™©ï¼ˆä¼ä¸š%ï¼‰</label>
                    <input type="number" id="companyUnemployment" value="0.6" step="0.1">
                </div>
                <div>
                    <label for="companyInjury">å·¥ä¼¤ä¿é™©ï¼ˆä¼ä¸š%ï¼‰</label>
                    <input type="number" id="companyInjury" value="0.3" step="0.1">
                </div>
                <div>
                    <label for="companyHousing">ä½æˆ¿å…¬ç§¯é‡‘ï¼ˆä¼ä¸š%ï¼‰</label>
                    <input type="number" id="companyHousing" value="6" step="0.1">
                </div>
            </div>
        </div>

        <button onclick="calculateWage()">è®¡ç®—å·¥èµ„</button>

        <div id="resultContainer" class="result" style="display: none;">
            <div class="result-section">
                <h3>ğŸ“Š å·¥èµ„æ„æˆ</h3>
                <div class="result-grid">
                    <div class="result-item">åŸºç¡€å·¥èµ„: <strong id="displayBasic">0</strong>å…ƒ</div>
                    <div class="result-item">åŠ ç­è´¹: <strong id="displayOvertime">0</strong>å…ƒ</div>
                    <div class="result-item">å¥–é‡‘: <strong id="displayBonus">0</strong>å…ƒ</div>
                    <div class="result-item">æœˆæ€»å·¥èµ„: <strong id="displayTotalSalary">0</strong>å…ƒ</div>
                </div>
            </div>

            <div class="result-section">
                <h3>ğŸ¦ äº”é™©ä¸€é‡‘ï¼ˆä¸ªäººç¼´çº³ï¼‰</h3>
                <div class="result-grid">
                    <div class="result-item">å…»è€ä¿é™©: <strong id="displayPension">0</strong>å…ƒ</div>
                    <div class="result-item">åŒ»ç–—ä¿é™©: <strong id="displayMedical">0</strong>å…ƒ</div>
                    <div class="result-item">å¤±ä¸šä¿é™©: <strong id="displayUnemployment">0</strong>å…ƒ</div>
                    <div class="result-item">ä½æˆ¿å…¬ç§¯é‡‘: <strong id="displayHousing">0</strong>å…ƒ</div>
                    <div class="result-item">å·¥ä¼¤ä¿é™©: <strong>0</strong>å…ƒ</div>
                    <div class="result-item"><strong>ä¸ªäººæ€»ç¼´è´¹:</strong> <strong id="displayPersonalTotal">0</strong>å…ƒ</div>
                </div>
            </div>

            <div class="result-section">
                <h3>ğŸ¢ äº”é™©ä¸€é‡‘ï¼ˆä¼ä¸šç¼´çº³ï¼‰</h3>
                <div class="result-item"><strong>ä¼ä¸šæ€»ç¼´è´¹:</strong> <strong id="displayCompanyTotal">0</strong>å…ƒ</div>
            </div>

            <div class="result-section">
                <h3>ğŸ’¼ ä¸ªç¨è®¡ç®—</h3>
                <div class="result-grid">
                    <div class="result-item">åº”çº³ç¨æ‰€å¾—é¢: <strong id="displayTaxableIncome">0</strong>å…ƒ</div>
                    <div class="result-item">ä¸ªç¨: <strong id="displayIncomeTax">0</strong>å…ƒ</div>
                </div>
            </div>

            <div class="net-salary">
                å®å‘å·¥èµ„: <strong id="displayNetSalary">0</strong>å…ƒ
            </div>
        </div>
    </div>

    <script>
    // åˆå§‹åŒ–ç¤¾ä¿åŸºæ•°
    function init() {
        setBaseSalary();
    }

    function setBaseSalary() {
        const baseSalary = document.getElementById('baseSalary').value || 10000;
        document.getElementById('insuranceBase').value = baseSalary;
    }

    function calculateWage() {
        const baseSalary = parseFloat(document.getElementById('baseSalary').value) || 10000;
        const bonus = parseFloat(document.getElementById('bonus').value) || 0;
        const overtimeHours = parseFloat(document.getElementById('overtimeHours').value) || 0;
        const overtimeRate = parseFloat(document.getElementById('overtimeRate').value) || 1.5;

        // æœˆå·¥èµ„ = åŸºç¡€å·¥èµ„ + åŠ ç­è´¹ + å¥–é‡‘
        const hourlyRate = baseSalary / (20 * 8); // æ¯æœˆ20å·¥ä½œæ—¥ï¼Œæ¯å¤©8å°æ—¶
        const overtimePay = overtimeHours * hourlyRate * overtimeRate;
        const totalMonthlySalary = baseSalary + overtimePay + bonus;

        // è·å–ä¸ªäººç¤¾ä¿å…¬ç§¯é‡‘æ¯”ä¾‹
        const personalRates = {
            pension: parseFloat(document.getElementById('personalPension').value) / 100,
            unemployment: parseFloat(document.getElementById('personalUnemployment').value) / 100,
            injury: parseFloat(document.getElementById('personalInjury').value) / 100,
            medical: parseFloat(document.getElementById('personalMedical').value) / 100,
            housing_fund: parseFloat(document.getElementById('personalHousing').value) / 100
        };

        // è·å–ä¼ä¸šç¤¾ä¿å…¬ç§¯é‡‘æ¯”ä¾‹
        const companyRates = {
            pension: parseFloat(document.getElementById('companyPension').value) / 100,
            unemployment: parseFloat(document.getElementById('companyUnemployment').value) / 100,
            injury: parseFloat(document.getElementById('companyInjury').value) / 100,
            medical: parseFloat(document.getElementById('companyMedical').value) / 100,
            housing_fund: parseFloat(document.getElementById('companyHousing').value) / 100
        };

        // ç¤¾ä¿å…¬ç§¯é‡‘è®¡ç®—
        const insuranceBase = parseFloat(document.getElementById('insuranceBase').value) || baseSalary;
        const personalInsurance = {
            pension: insuranceBase * personalRates.pension,
            unemployment: insuranceBase * personalRates.unemployment,
            injury: insuranceBase * personalRates.injury,
            medical: insuranceBase * personalRates.medical,
            housing_fund: insuranceBase * personalRates.housing_fund,
            total: insuranceBase * (personalRates.pension + personalRates.unemployment + personalRates.injury + personalRates.medical + personalRates.housing_fund)
        };

        const companyInsuranceTotal = insuranceBase * (companyRates.pension + companyRates.unemployment + companyRates.injury + companyRates.medical + companyRates.housing_fund);

        // ç¨å‰å·¥èµ„
        const preTaxSalary = totalMonthlySalary;

        // åº”çº³ç¨æ‰€å¾—é¢ = ç¨å‰å·¥èµ„ - äº”é™©ä¸€é‡‘ä¸ªäººéƒ¨åˆ† - 5000å…ç¨é¢
        const taxableIncome = preTaxSalary - personalInsurance.total - 5000;

        // ä¸ªç¨è®¡ç®—
        const incomeTax = calculateIndividualIncomeTax(taxableIncome);

        // å®å‘å·¥èµ„
        const netSalary = preTaxSalary - personalInsurance.total - incomeTax;

        // æ›´æ–°æ˜¾ç¤º
        updateResults(baseSalary, overtimePay, bonus, totalMonthlySalary,
                     personalInsurance, companyInsuranceTotal,
                     taxableIncome, incomeTax, netSalary);

        document.getElementById('resultContainer').style.display = 'block';
    }

    // ä¸ªç¨è®¡ç®—å‡½æ•°
    function calculateIndividualIncomeTax(taxableIncome) {
        if (taxableIncome <= 0) return 0;
        if (taxableIncome <= 3000) return taxableIncome * 0.03;
        if (taxableIncome <= 12000) return taxableIncome * 0.10 - 210;
        if (taxableIncome <= 25000) return taxableIncome * 0.20 - 1410;
        if (taxableIncome <= 35000) return taxableIncome * 0.25 - 2660;
        if (taxableIncome <= 55000) return taxableIncome * 0.30 - 4410;
        if (taxableIncome <= 80000) return taxableIncome * 0.35 - 7160;
        return taxableIncome * 0.45 - 15160;
    }

    // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
    window.onload = init;
    document.getElementById('baseSalary').addEventListener('input', setBaseSalary);

    function updateResults(baseSalary, overtimePay, bonus, totalMonthlySalary,
                          personalInsurance, companyInsuranceTotal,
                          taxableIncome, incomeTax, netSalary) {
        document.getElementById('displayBasic').textContent = baseSalary.toFixed(2);
        document.getElementById('displayOvertime').textContent = overtimePay.toFixed(2);
        document.getElementById('displayBonus').textContent = bonus.toFixed(2);
        document.getElementById('displayTotalSalary').textContent = totalMonthlySalary.toFixed(2);

        document.getElementById('displayPension').textContent = personalInsurance.pension.toFixed(2);
        document.getElementById('displayMedical').textContent = personalInsurance.medical.toFixed(2);
        document.getElementById('displayUnemployment').textContent = personalInsurance.unemployment.toFixed(2);
        document.getElementById('displayHousing').textContent = personalInsurance.housing_fund.toFixed(2);
        document.getElementById('displayPersonalTotal').textContent = personalInsurance.total.toFixed(2);

        document.getElementById('displayCompanyTotal').textContent = companyInsuranceTotal.toFixed(2);

        document.getElementById('displayTaxableIncome').textContent = taxableIncome.toFixed(2);
        document.getElementById('displayIncomeTax').textContent = incomeTax.toFixed(2);

        document.getElementById('displayNetSalary').textContent = netSalary.toFixed(2);
    }
    </script>
</body>
</html>
