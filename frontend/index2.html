<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SCL-90 症状自测工具</title>
	<style>
		/* 基本样式 */
		:root{
		    --bg:#f7f8fb;
		    --card:#ffffff;
		    --primary:#2463ff;
		    --muted:#6b7280;
		    --danger:#e02424;
		    --shadow: 0 6px 18px rgba(33,33,33,0.08);
		    --radius:14px;
		    --pad:16px;
		}
	  	html,body{
	  		height:100%;
	  		margin:0;
	  		font-family: "Helvetica Neue", Arial, sans-serif;
	  		background:var(--bg);
	  		color:#111;
	  	}
		header{
		  	display:flex;
		  	align-items:center;
		  	gap:12px;
		  	margin-bottom:10px;
		}
		h1{
		  	font-size:18px;
		  	margin:0;
		}
		p.lead{
		  	margin:6px 0 0;
		  	color:var(--muted);
		  	font-size:13px;
		}
		.app{
		  	max-width:780px;
		  	margin:0 auto;
		  	padding:12px;
		  	box-sizing:border-box;
		}
		.card{
		  	background:var(--card);
		  	border-radius:16px;
		  	padding:18px;
		  	box-shadow:var(--shadow);
		  	margin-bottom:12px;
		}
	</style>
</head>
<body>
	<div class="app">
		<div id="resultCard" class="card"></div>
	</div>

	<script>
		// filledAnswers 示例（共 90 项）
		const filledAnswers = Array(90).fill(0).map((_,i)=>[2,1,3,2,1,4,3,2,1][i%9]);

		fetch("/api/scl90", {
			method: "POST",
			headers: {"Content-Type": "application/json"},
			body: JSON.stringify({ filledAnswers })
		})
		.then(res => res.json())
		.then(data => {
		  document.getElementById("resultCard").innerHTML = `
		    <h3>测评结果</h3>
		    <pre>${data.summary}</pre>
		  `;
		})
		.catch(err => console.error(err));

	</script>
</body>
</html>